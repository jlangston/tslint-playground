webpackJsonp([12],{2124:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(1),a=t(842),o=t(55),r=t(1116),s=t(2177),c=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(i,e),i.prototype.applyWithProgram=function(e,i){var t={onlyInlineLambdas:-1!==this.ruleArguments.indexOf("only-inline-lambdas")};return this.applyWithFunction(e,d,t,i.getTypeChecker())},i.metadata={description:"Requires that private variables are marked as `readonly` if they're never modified outside of the constructor.",descriptionDetails:r.Utils.dedent(l||(l=n.__makeTemplateObject(["\n            If a private variable is only assigned to in the constructor, it should be declared as `readonly`.\n        "],["\n            If a private variable is only assigned to in the constructor, it should be declared as \\`readonly\\`.\n        "]))),optionExamples:[!0,[!0,"only-inline-lambdas"]],options:{enum:["only-inline-lambdas"],type:"string"},optionsDescription:r.Utils.dedent(p||(p=n.__makeTemplateObject(["\n            If `","` is specified, only immediately-declared arrow functions are checked."],["\n            If \\`","\\` is specified, only immediately-declared arrow functions are checked."])),"only-inline-lambdas"),rationale:r.Utils.dedent(f||(f=n.__makeTemplateObject(["\n            Marking never-modified variables as readonly helps enforce the code's intent of keeping them as never-modified.\n            It can also help prevent accidental changes of members not meant to be changed."],["\n            Marking never-modified variables as readonly helps enforce the code's intent of keeping them as never-modified.\n            It can also help prevent accidental changes of members not meant to be changed."]))),requiresTypeInfo:!0,ruleName:"prefer-readonly",type:"maintainability",typescriptOnly:!0},i}(r.Rules.TypedRule);function d(e,i){var t;e.sourceFile.isDeclarationFile||o.forEachChild(e.sourceFile,n);function n(s){if(!a.hasModifier(s.modifiers,o.SyntaxKind.DeclareKeyword))switch(s.kind){case o.SyntaxKind.ClassDeclaration:case o.SyntaxKind.ClassExpression:!function(s){var c=t,d=t=new y(s,i);o.forEachChild(s,n),function(i){for(var t=0,n=i.finalizeUnmodifiedPrivateNonReadonlys();t<n.length;t++){var s=n[t];c=s,void 0,d=r.Replacement.appendText(c.modifiers.end," readonly"),e.addFailureAtNode(c.name,function(e){var i=a.isModifierFlagSet(e,o.ModifierFlags.Static)?"static":"member",t=e.name.getText();return"Private "+i+" variable '"+t+"' is never reassigned; mark it as 'readonly'."}(c),d)}var c,d}(d),t=c}(s);break;case o.SyntaxKind.Constructor:!function(e){t.enterConstructor();for(var i=0,r=e.parameters;i<r.length;i++){var s=r[i];a.isModifierFlagSet(s,o.ModifierFlags.Private)&&t.addDeclaredVariable(s)}o.forEachChild(e,n),t.exitConstructor()}(s);break;case o.SyntaxKind.PropertyDeclaration:!function(i){(function(i){if(!e.options.onlyInlineLambdas)return!1;return void 0===i.initializer||i.initializer.kind!==o.SyntaxKind.ArrowFunction})(i)||t.addDeclaredVariable(i);o.forEachChild(i,n)}(s);break;case o.SyntaxKind.PropertyAccessExpression:void 0!==t&&function(e,i){switch(i.kind){case o.SyntaxKind.BinaryExpression:!function(e,i){i.left===e&&a.isAssignmentKind(i.operatorToken.kind)&&t.addVariableModification(e)}(e,i);break;case o.SyntaxKind.DeleteExpression:!function(e){t.addVariableModification(e)}(e);break;case o.SyntaxKind.PostfixUnaryExpression:case o.SyntaxKind.PrefixUnaryExpression:!function(e){e.operator!==o.SyntaxKind.PlusPlusToken&&e.operator!==o.SyntaxKind.MinusMinusToken||t.addVariableModification(e.operand)}(i)}o.forEachChild(e,n)}(s,s.parent);break;default:a.isFunctionScopeBoundary(s)?function(e){if(void 0===t)return void o.forEachChild(e,n);t.enterNonConstructorScope(),o.forEachChild(e,n),t.exitNonConstructorScope()}(s):o.forEachChild(s,n)}}}i.Rule=c;var l,p,f,u=-1,y=function(){function e(e,i){this.privateModifiableMembers=new Map,this.privateModifiableStatics=new Map,this.memberVariableModifications=new Set,this.staticVariableModifications=new Set,this.constructorScopeDepth=u,this.classType=i.getTypeAtLocation(e),this.typeChecker=i}return e.prototype.addDeclaredVariable=function(e){a.isModifierFlagSet(e,o.ModifierFlags.Private)&&!a.isModifierFlagSet(e,o.ModifierFlags.Readonly)&&e.name.kind!==o.SyntaxKind.ComputedPropertyName&&(a.isModifierFlagSet(e,o.ModifierFlags.Static)?this.privateModifiableStatics.set(e.name.getText(),e):this.privateModifiableMembers.set(e.name.getText(),e))},e.prototype.addVariableModification=function(e){var i=this.typeChecker.getTypeAtLocation(e.expression);if(void 0!==i.symbol&&s.typeIsOrHasBaseType(i,this.classType)){var t=a.isObjectType(i)&&a.isObjectFlagSet(i,o.ObjectFlags.Anonymous);if(t||0!==this.constructorScopeDepth){var n=e.name.text;(t?this.staticVariableModifications:this.memberVariableModifications).add(n)}}},e.prototype.enterConstructor=function(){this.constructorScopeDepth=0},e.prototype.exitConstructor=function(){this.constructorScopeDepth=u},e.prototype.enterNonConstructorScope=function(){this.constructorScopeDepth!==u&&(this.constructorScopeDepth+=1)},e.prototype.exitNonConstructorScope=function(){this.constructorScopeDepth!==u&&(this.constructorScopeDepth-=1)},e.prototype.finalizeUnmodifiedPrivateNonReadonlys=function(){var e=this;return this.memberVariableModifications.forEach(function(i){e.privateModifiableMembers.delete(i)}),this.staticVariableModifications.forEach(function(i){e.privateModifiableStatics.delete(i)}),Array.from(this.privateModifiableMembers.values()).concat(Array.from(this.privateModifiableStatics.values()))},e}()},2177:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.typeIsOrHasBaseType=function(e,i){if(void 0===e.symbol||void 0===i.symbol)return!1;var t=[e],n=e.getBaseTypes();void 0!==n&&t.push.apply(t,n);for(var a=0,o=t;a<o.length;a++){var r=o[a];if(void 0!==r.symbol&&r.symbol.name===i.symbol.name)return!0}return!1}}});
//# sourceMappingURL=12.17aee59e.chunk.js.map